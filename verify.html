<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<title>Certificate Verification</title>

<style>
body {
    font-family: "Noto Serif Bengali", serif;
    background: #f2f2f2;
    padding: 40px;
    text-align: center;
}

.verify-box {
    max-width: 480px;
    margin: 0 auto;
    background: #fff;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
}

h2 {
    margin-bottom: 20px;
}

input {
    padding: 10px;
    width: 260px;
    font-size: 16px;
}

button {
    padding: 10px 18px;
    font-size: 16px;
    cursor: pointer;
    margin-left: 5px;
}

#result {
    margin-top: 20px;
    font-size: 18px;
}

.success {
    color: green;
}

.error {
    color: red;
}
</style>
</head>

<body>

<div class="verify-box">

<h2>ЁЯФН Certificate Verification</h2>

<input
    id="certNo"
    placeholder="Certificate No (NP-001 / 1 / 15)"
    onkeypress="if(event.key==='Enter') verify();"
>
<button onclick="verify()">Verify</button>

<p id="result"></p>

</div>

<script>
/* ===== SAME DATA AS index.html ===== */
const sections = {
    "Poems / ржХржмрж┐рждрж╛": [
        "рж╕рзБрж╕рзНржорж┐рждрж╛ ржжрждрзНржд рж░рж╛ржпрж╝",
        "ржмрж┐ржорж▓ ржЪржирзНржжрзНрж░ ржкрж╛ржирзНржбрж╛",
        "ржЙржжржпрж╝ ржирж╛рж░рж╛ржпрж╝ржг ржмрж╛ржЧ",
        "ржкржжрзНржорж╛ржмрждрзА ржХрзБржирзНржбрзБ",
        "ржмрж┐ржнрзВрждрж┐ ржмрж┐рж╢рзНржмрж╛рж╕",
        "рж▓рж╛рж▓ржи ржЪрж╛ржБржж",
        "ржЧрзЛржмрж┐ржирзНржж ржорзЛржжржХ",
        "рж╕рзБржнрж╛рж╖ рж╕рж┐ржВрж╣",
        "ржмржХрзБрж▓ ржмрж┐рж╢рзНржмрж╛рж╕",
        "ржжрж┐рж▓рзАржк ржХрзБржорж╛рж░ ржкрж╛рждрзНрж░",
        "рж╕рзБрж╢рж╛ржирзНржд рж╕рзЗржи",
        "ржЕржирзБржк ржХрзБржорж╛рж░ ржЬрж╛ржирж╛",
        "рждрзБржпрж╝рж╛ ржирзВрж░",
        "рж╕ржорж░ ржЧрзЛрж╕рзНржмрж╛ржорзА",
        "рж╕рзЛржирж╛рж▓рзА ржврж╛рж▓рзА",
        "ржбржГ ржЕрж╢рзЛржХ ржХрзБржорж╛рж░ рж╕ржирж┐ржЧрзНрж░рж╛рж╣рзА",
        "рждржкржи ржорж╛ржЗрждрж┐",
        "ржЕржирзБрж░рж╛ржЧ ржнрзМржорж┐ржХ",
        "рж╕рзМрж░ржжрзАржк ржЕржзрж┐ржХрж╛рж░рзА",
        "ржЙрждрзНрждржо ржХрзБржорж╛рж░ ржкрж╛рж▓",
        "рж╕рзБржмрзАрж░ ржХрзБржорж╛рж░ ржШрзЛрж╖",
        "рж╕рзМржорзНржпржЬрж┐рзО рж░рж╛ржпрж╝"
    ],
    "Story / ржЧрж▓рзНржк": [
        "ржЕржЮрзНржЬржирж╛ ржоржЬрзБржоржжрж╛рж░",
        "ржЖржиржирзНржж ржЧрзЛржкрж╛рж▓ ржЧрж░рж╛ржЗ",
        "ржЕрж░рзНржкрж┐рждрж╛ ржорж╛рж▓рж┐ржХ",
        "ржнрж╛рж╕рзНржХрж░ рж╕рж┐ржирж╣рж╛",
        "ржорж╛ржЦржирж▓рж╛рж▓ ржкрзНрж░ржзрж╛ржи",
        "рж╕рзИржХржд ржкрзНрж░рж╕рж╛ржж рж░рж╛рзЯ",
        "рж╢рзНрж░рзЗрзЯрж╛ ржжрждрзНржд"
    ],
    "Short Story / ржЕржирзБржЧрж▓рзНржк": [
        "ржЪржирзНржжрзНрж░рж╛ржирзА ржоржЬрзБржоржжрж╛рж░",
        "ржкрж╛рж░рзНрже ржкрзНрж░рждрж┐ржо ржжрж╛рж╕",
        "ржмрж┐ржкрзНрж▓ржм ржирж╕рж┐ржкрзБрж░"
    ]
};

/* ===== VERIFY LOGIC ===== */
function verify() {
    const raw = document.getElementById("certNo").value.trim();
    const result = document.getElementById("result");

    if (!raw) {
        show("тЭМ Certificate number ржжрж┐ржи", "error");
        return;
    }

    // Supports: 1, 15, NP-015, np015
    const num = parseInt(raw.replace(/[^0-9]/g, ""), 10);

    if (isNaN(num) || num <= 0) {
        show("тЭМ Invalid certificate format", "error");
        return;
    }

    let count = 1;

    for (const section in sections) {
        for (const name of sections[section]) {
            if (count === num) {
                show(
                    "тЬЕ <strong>Valid Certificate</strong><br><br>" +
                    "<strong>Name:</strong> " + name + "<br>" +
                    "<strong>Section:</strong> " + section + "<br>" +
                    "<strong>Certificate No:</strong> NP-" + String(num).padStart(3, "0"),
                    "success"
                );
                return;
            }
            count++;
        }
    }

    show("тЭМ Certificate not found", "error");
}

function show(msg, type) {
    const el = document.getElementById("result");
    el.className = type;
    el.innerHTML = msg;
}

/* ===== AUTO VERIFY FROM QR PARAM ===== */
window.onload = function () {
    const params = new URLSearchParams(window.location.search);
    const cert = params.get("cert");

    if (cert) {
        document.getElementById("certNo").value = cert;
        verify();
    }
};
</script>

</body>
</html>
