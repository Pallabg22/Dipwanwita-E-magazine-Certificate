<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<title>Participation Certificate</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<!-- ================= SCREEN CONTENT ================= -->
<div id="screenContent">

    <!-- HEADER -->
    <div class="page-header">
        <h1 class="main-title">
            Dipwanwita E Magazine<br>
            ржжрзАржкрж╛ржирзНржмрж┐рждрж╛ ржЗтАУржкрждрзНрж░рж┐ржХрж╛
        </h1>

        <div class="divider"></div>
        <h2 class="title">Participant Certificate Download</h2>
    </div>

    <!-- SEARCH -->
    <input
        type="text"
        id="search"
        placeholder="ржирж╛ржо ржЦрзБржБржЬрзБржи..."
        onkeyup="filterNames()"
    >

    <!-- VERIFY LINK -->
    <div style="text-align:center;margin:15px 0;">
        <a href="verify.html" target="_blank"
           style="
            display:inline-block;
            padding:8px 16px;
            background:#2e7d32;
            color:#fff;
            text-decoration:none;
            border-radius:6px;
            font-weight:bold;
           ">
            ЁЯФН Certificate Verification
        </a>
    </div>

    <div class="list" id="list"></div>
</div>
<!-- ================= END SCREEN ================= -->


<!-- ================= PRINT AREA ================= -->
<div id="printArea">

<div class="certificate" id="certificate">

    <!-- ЁЯПЖ AWARD BADGE -->
    <div class="award-badge" id="awardBadge">
        <span>BEST<br>PEN SMITH<br>AWARD</span>
    </div>

    <!-- LOGO -->
    <img src="logo.png.jpg" alt="logo" width="90" style="margin-bottom:15px;">

    <h1>рж╕ржорзНржорж╛ржиржирж╛ ржкрждрзНрж░</h1>

    <p id="category" class="category"></p>
    <p id="serial" class="serial"></p>

    <div id="name" class="name"></div>

    <p class="text">
        ржжрзАржкрж╛ржирзНржмрж┐рждрж╛ ржЗтАУржкрждрзНрж░рж┐ржХрж╛рж░ ржкржХрзНрж╖ ржерзЗржХрзЗ рж╕ржВрж╢рзНрж▓рж┐рж╖рзНржЯ ржмрж┐ржнрж╛ржЧрзЗ ржпрзБржХрзНржд рж╣ржУржпрж╝рж╛рж░ ржЬржирзНржп
        ржЖржкржирж╛ржХрзЗ ржЖржирзНрждрж░рж┐ржХ ржЕржнрж┐ржиржирзНржжржи ржУ рж╢рзБржнрзЗржЪрзНржЫрж╛ред<br><br>

        ржЖржкржирж╛рж░ рж╕рзГржЬржирж╢рзАрж▓ ржнрж╛ржмржирж╛ ржУ рж╕рж╛рж╣рж┐рждрзНржпржЪрж░рзНржЪрж╛рж░ ржЖржирзНрждрж░рж┐ржХ ржкрзНрж░ржпрж╝рж╛рж╕рзЗ
        ржЖржорж╛ржжрзЗрж░ ржПржЗ рж╕рж╛рж╣рж┐рждрзНржпржпрж╛рждрзНрж░рж╛ ржЖрж░ржУ рж╕ржорзГржжрзНржз рж╣ржпрж╝рзЗржЫрзЗред
        рж╕рж╛рж╣рж┐рждрзНржпржкржерзЗ ржЖржкржирж╛рж░ ржирж┐рж░ржирзНрждрж░ ржЕржЧрзНрж░ржпрж╛рждрзНрж░рж╛ ржХрж╛ржоржирж╛ ржХрж░рж┐ред
    </p>

    <div class="footer">
        <div class="sign">
            <div class="line"></div>
            <p><strong>Pallab Guchhait</strong></p>
            <p>Editor</p>
        </div>

        <div class="date">
            <div class="line"></div>
            <p id="date"></p>
            <p>
                ржжрзАржкрж╛ржирзНржмрж┐рждрж╛ ржЗтАУржкрждрзНрж░рж┐ржХрж╛ ржкрж░рж┐ржмрж╛рж░<br>
                ржУ ржХржмрж┐рждрж╛рж░ ржЭрзБрзЬрж┐ рж╕рж╛рж╣рж┐рждрзНржп ржкрждрзНрж░рж┐ржХрж╛
            </p>
        </div>
    </div>

</div>
</div>
<!-- ================= END PRINT AREA ================= -->


<script>
/* ================= FINAL DATA ================= */
const sections = {
    "Poems / ржХржмрж┐рждрж╛": [
        "рж╕рзБрж╕рзНржорж┐рждрж╛ ржжрждрзНржд рж░рж╛ржпрж╝","ржмрж┐ржорж▓ ржЪржирзНржжрзНрж░ ржкрж╛ржирзНржбрж╛","ржЙржжржпрж╝ ржирж╛рж░рж╛ржпрж╝ржг ржмрж╛ржЧ",
        "ржкржжрзНржорж╛ржмрждрзА ржХрзБржирзНржбрзБ","ржмрж┐ржнрзВрждрж┐ ржмрж┐рж╢рзНржмрж╛рж╕","рж▓рж╛рж▓ржи ржЪрж╛ржБржж","ржЧрзЛржмрж┐ржирзНржж ржорзЛржжржХ",
        "рж╕рзБржнрж╛рж╖ рж╕рж┐ржВрж╣","ржмржХрзБрж▓ ржмрж┐рж╢рзНржмрж╛рж╕","ржжрж┐рж▓рзАржк ржХрзБржорж╛рж░ ржкрж╛рждрзНрж░","рж╕рзБрж╢рж╛ржирзНржд рж╕рзЗржи",
        "ржЕржирзБржк ржХрзБржорж╛рж░ ржЬрж╛ржирж╛","рждрзБржпрж╝рж╛ ржирзВрж░","рж╕ржорж░ ржЧрзЛрж╕рзНржмрж╛ржорзА","рж╕рзЛржирж╛рж▓рзА ржврж╛рж▓рзА",
        "ржбржГ ржЕрж╢рзЛржХ ржХрзБржорж╛рж░ рж╕ржирж┐ржЧрзНрж░рж╛рж╣рзА","рждржкржи ржорж╛ржЗрждрж┐","ржЕржирзБрж░рж╛ржЧ ржнрзМржорж┐ржХ",
        "рж╕рзМрж░ржжрзАржк ржЕржзрж┐ржХрж╛рж░рзА","ржЙрждрзНрждржо ржХрзБржорж╛рж░ ржкрж╛рж▓","рж╕рзБржмрзАрж░ ржХрзБржорж╛рж░ ржШрзЛрж╖",
        "рж╕рзМржорзНржпржЬрж┐рзО рж░рж╛ржпрж╝"
    ],
    "Story / ржЧрж▓рзНржк": [
        "ржЕржЮрзНржЬржирж╛ ржоржЬрзБржоржжрж╛рж░","ржЖржиржирзНржж ржЧрзЛржкрж╛рж▓ ржЧрж░рж╛ржЗ","ржЕрж░рзНржкрж┐рждрж╛ ржорж╛рж▓рж┐ржХ",
        "ржнрж╛рж╕рзНржХрж░ рж╕рж┐ржирж╣рж╛","ржорж╛ржЦржирж▓рж╛рж▓ ржкрзНрж░ржзрж╛ржи","рж╕рзИржХржд ржкрзНрж░рж╕рж╛ржж рж░рж╛рзЯ","рж╢рзНрж░рзЗрзЯрж╛ ржжрждрзНржд"
    ],
    "Short Story / ржЕржирзБржЧрж▓рзНржк": [
        "ржЪржирзНржжрзНрж░рж╛ржирзА ржоржЬрзБржоржжрж╛рж░","ржкрж╛рж░рзНрже ржкрзНрж░рждрж┐ржо ржжрж╛рж╕","ржмрж┐ржкрзНрж▓ржм ржирж╕рж┐ржкрзБрж░"
    ]
};

/* ЁЯПЖ BEST PENSMITH */
const bestPenSmithWinners = [
    "рж╕рзБрж╕рзНржорж┐рждрж╛ ржжрждрзНржд рж░рж╛ржпрж╝",
    "рж╕ржорж░ ржЧрзЛрж╕рзНржмрж╛ржорзА",
    "рж╕рзМржорзНржпржЬрж┐рзО рж░рж╛ржпрж╝"
];

const listDiv = document.getElementById("list");

/* ===== LIST ===== */
function renderList(filter="") {
    listDiv.innerHTML = "";
    let serial = 1;

    for (const section in sections) {
        const h = document.createElement("h3");
        h.innerText = section;
        listDiv.appendChild(h);

        sections[section].forEach(name => {
            if (!name.includes(filter)) return;

            const row = document.createElement("div");
            row.className = "row";
            row.innerHTML = `
                <span>${serial}. ${name}</span>
                <button data-name="${name}" data-section="${section}" data-serial="${serial}">
                    Download
                </button>
            `;
            row.querySelector("button").onclick = () => handleDownload(row.querySelector("button"));
            listDiv.appendChild(row);
            serial++;
        });
    }
}
renderList();

function filterNames() {
    renderList(document.getElementById("search").value);
}

function setDate() {
    document.getElementById("date").innerText =
        new Date().toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric"});
}

function adjustNameSize(name) {
    const el = document.getElementById("name");
    el.innerText = name;
    el.style.fontSize = name.length > 25 ? "26px" : name.length > 18 ? "30px" : "34px";
}

function handleDownload(btn) {
    const name = btn.dataset.name;

    adjustNameSize(name);
    document.getElementById("category").innerText = btn.dataset.section;
    document.getElementById("serial").innerText =
        "Certificate No: NP-" + btn.dataset.serial.padStart(3,"0");

    setDate();

    const badge = document.getElementById("awardBadge");
    badge.style.display = bestPenSmithWinners.includes(name) ? "flex" : "none";

    setTimeout(() => window.print(), 300);
}
</script>

</body>
</html>
